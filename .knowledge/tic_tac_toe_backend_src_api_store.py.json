{"is_source_file": true, "format": "Python", "description": "This file implements an in-memory storage backend for a Tic Tac Toe platform, managing users, game rooms, and leaderboards. It provides methods for creating and verifying users, managing game states, and maintaining scoring data, with thread safety considerations.", "external_files": [".models"], "external_methods": ["password context hashing (pwd_context.hash, pwd_context.verify)", "secrets.token_hex"], "published": ["STORE"], "classes": [{"name": "InMemoryStore", "description": "Singleton-like class that manages in-memory storage of users, games, and scores with thread safety.", "methods": [{"name": "__init__", "description": "Initializes the in-memory storage structures and lock."}, {"name": "create_user", "description": "Creates a new user, hashes password, and initializes leaderboard entry."}, {"name": "verify_user", "description": "Verifies user credentials."}, {"name": "get_user", "description": "Retrieves user information."}, {"name": "create_game", "description": "Creates a new game room with initial state."}, {"name": "join_game", "description": "Allows a user to join an existing game room."}, {"name": "list_games", "description": "Lists all current game rooms."}, {"name": "get_game", "description": "Retrieves a specific game room."}, {"name": "save_game", "description": "Updates the game state in storage."}, {"name": "update_scoreboard", "description": "Updates leaderboard scores based on game outcomes."}, {"name": "get_leaderboard", "description": "Returns sorted leaderboard entries."}]}], "methods": [{"name": "UserPublic create_user(self, user: UserCreate)", "description": "Create user and store with hashed password.", "scope": "InMemoryStore", "scopeKind": "class"}, {"name": "Optional[UserPublic] verify_user(self, username: str, password: str)", "description": "Verify username and password validity.", "scope": "InMemoryStore", "scopeKind": "class"}, {"name": "GameRoom create_game(self, user: UserPublic)", "description": "Create a new game room in memory.", "scope": "InMemoryStore", "scopeKind": "class"}, {"name": "GameRoom join_game(self, room_id: str, player: UserPublic)", "description": "Join an existing game room.", "scope": "InMemoryStore", "scopeKind": "class"}, {"name": "update_scoreboard(self, winner: Optional[str], players: List[UserPublic], draw: bool = False)", "description": "Update user scores after a game.", "scope": "InMemoryStore", "scopeKind": "class"}, {"name": "__init__(self)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[GameRoom] get_game(self, room_id: str)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}, {"name": "List[LeaderboardEntry] get_leaderboard(self)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UserPublic] get_user(self, username: str)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}, {"name": "List[GameRoom] list_games(self)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}, {"name": "save_game(self, game: GameRoom)", "scope": "InMemoryStore", "scopeKind": "class", "description": "unavailable"}], "calls": ["pwd_context.hash", "pwd_context.verify", "secrets.token_hex", "list(self.games.values())", "sorted(...)"], "search-terms": ["in-memory storage", "game room management", "leaderboard", "user creation", "thread safety", "Python class"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "InMemoryStore", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^class InMemoryStore:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "STORE", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^STORE = InMemoryStore()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def create_game(self, user: UserPublic) -> GameRoom:$/", "language": "Python", "typeref": "typename:GameRoom", "kind": "member", "signature": "(self, user: UserPublic)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def create_user(self, user: UserCreate) -> UserPublic:$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "member", "signature": "(self, user: UserCreate)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_game", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def get_game(self, room_id: str) -> Optional[GameRoom]:$/", "language": "Python", "typeref": "typename:Optional[GameRoom]", "kind": "member", "signature": "(self, room_id: str)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_leaderboard", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def get_leaderboard(self) -> List[LeaderboardEntry]:$/", "language": "Python", "typeref": "typename:List[LeaderboardEntry]", "kind": "member", "signature": "(self)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_user", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def get_user(self, username: str) -> Optional[UserPublic]:$/", "language": "Python", "typeref": "typename:Optional[UserPublic]", "kind": "member", "signature": "(self, username: str)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "join_game", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def join_game(self, room_id: str, player: UserPublic) -> GameRoom:$/", "language": "Python", "typeref": "typename:GameRoom", "kind": "member", "signature": "(self, room_id: str, player: UserPublic)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "list_games", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def list_games(self) -> List[GameRoom]:$/", "language": "Python", "typeref": "typename:List[GameRoom]", "kind": "member", "signature": "(self)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "pwd_context", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "save_game", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def save_game(self, game: GameRoom):$/", "language": "Python", "kind": "member", "signature": "(self, game: GameRoom)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "update_scoreboard", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def update_scoreboard(self, winner: Optional[str], players: List[UserPublic], draw: bool = F/", "language": "Python", "kind": "member", "signature": "(self, winner: Optional[str], players: List[UserPublic], draw: bool = False)", "scope": "InMemoryStore", "scopeKind": "class"}, {"_type": "tag", "name": "verify_user", "path": "/home/kavia/workspace/code-generation/online-tic-tac-toe-platform-b1e18689/tic_tac_toe_backend/src/api/store.py", "pattern": "/^    def verify_user(self, username: str, password: str) -> Optional[UserPublic]:$/", "language": "Python", "typeref": "typename:Optional[UserPublic]", "kind": "member", "signature": "(self, username: str, password: str)", "scope": "InMemoryStore", "scopeKind": "class"}], "hash": "09253e97ee2b450f3bc6e2967e9356f7", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/store.py", "fields": [{"name": "STORE = InMemoryStore()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"13": ""}]}